# 코드 옮기는 법
네, 알겠습니다. 두 앱(easy-cell-counter, lab-inventory)에 연결된 Google 계정(봇)의 소유권을 이전하는 작업을 시작하겠습니다.

이 작업은 제가 직접 수행할 수는 없지만, 연구원님(현재 소유자)과 인수인계받으실 분(신규 소유자)이 순서대로 따라 하실 수 있도록 상세한 가이드를 제공해 드릴 수 있습니다.

이전은 총 3단계로 구성됩니다.

Google 자산 인계: Google Sheets 파일과 '봇' 계정이 포함된 Google Cloud Project의 소유권을 이전합니다.

GitHub 코드 인계: 앱 코드가 저장된 GitHub Repository의 소유권을 이전합니다.

Streamlit 앱 신규 배포: 신규 소유자가 자신의 Streamlit 계정으로 앱을 새로 배포하고, '비밀 키(Secrets)'를 설정합니다.

1단계: Google 자산 인계 (소유권 이전)
이 단계는 **연구원님(현재 소유자)**이 신규 소유자의 Google 계정 이메일 주소로 소유권을 넘기는 과정입니다.

1. Google Sheets 파일 (데이터)
Reagent_DB, Usage_Log, Cell Culture Log 3개의 Google Sheet 파일에 대해 각각 다음을 수행해야 합니다.

Google Sheet 파일을 엽니다.

오른쪽 상단의 [공유] 버튼을 클릭합니다.

'사용자 및 그룹 추가' 란에 신규 소유자의 이메일 주소를 입력합니다.

권한을 **'편집자'**가 아닌 **'소유자'**로 변경합니다. (또는 '편집자'로 추가한 뒤, '소유자 되기'를 눌러 권한을 이전합니다.)

[저장] 또는 [보내기]를 누릅니다.

2. Google Cloud Project (봇/인증 키)
'봇'(cell-log-bot@...)을 만들었던 Google Cloud Project의 소유권을 이전해야 합니다.

Google Cloud Console (IAM 및 관리자) 페이지에 접속합니다.

상단에서 cell-culture-log (또는 생성하신) 프로젝트를 선택합니다.

페이지 상단의 [+ 액세스 권한 부여] 버튼을 클릭합니다.

'새 주 구성원' 란에 신규 소유자의 이메일 주소를 입력합니다.

'역할 선택'에서 [소유자 (Owner)] 역할을 찾아 선택합니다.

[저장]을 누릅니다.

2단계: GitHub 코드 인계 (소유권 이전)
이 단계는 **연구원님(gashinayo)**이 GitHub에서 신규 소유자의 GitHub ID로 소유권을 넘기는 과정입니다.

GitHub에 로그인하여, easy-cell-counter 저장소(Repository)로 이동합니다.

저장소 상단의 [Settings] 탭을 클릭합니다.

[General] 탭의 맨 아래에 있는 "Danger Zone" (위험 구역)을 찾습니다.

[Transfer ownership] (소유권 이전)을 클릭합니다.

지시 사항에 따라, 신규 소유자의 GitHub ID와 저장소 이름을 입력하여 소유권을 이전합니다.

lab-inventory 저장소와 cell-counter-lite 저장소에 대해서도 동일하게 반복합니다.

3단계: Streamlit 앱 신규 배포 (신규 소유자)
이 단계는 신규 소유자가 자신의 계정으로 진행해야 합니다. (Streamlit 앱 링크는 소유권 이전이 불가능하며, 반드시 새로 배포해야 합니다.)

1. (필수) 비밀 키(Secrets) 전달
[현재 소유자] → [신규 소유자]

'재고 관리기' 앱을 배포할 때 사용했던 gcp_json_base64 = "ewog..."로 시작하는 Base64 'Secrets' 문자열 전체를 (예: 보안 메신저, 암호화된 파일 등) 안전하게 전달해야 합니다.

2. 신규 앱 배포 (lab-inventory)
**[신규 소유자]**가 자신의 GitHub 계정으로 Streamlit Community Cloud에 로그인합니다.

[New app] 버튼을 클릭합니다.

'Repository'에서 (2단계에서 소유권을 이전받은) **lab-inventory**를 선택합니다.

'Main file path'가 inventory_app.py인지 확인합니다.

[Advanced settings...] (고급 설정)을 클릭합니다.

'Secrets' 텍스트 박스에, 1단계에서 전달받은 gcp_json_base64 = "ewog..." 문자열 전체를 그대로 붙여넣습니다.

[Save]를 누른 뒤, [Deploy!] 버튼을 누릅니다.

새로운 lab-inventory 링크가 생성됩니다.

3. 신규 앱 배포 (easy-cell-counter)
**[신규 소유자]**가 다시 [New app] 버튼을 누릅니다.

'Repository'에서 **easy-cell-counter**를 선택합니다.

'Main file path'가 cell_calculator2.py (또는 메인 파일)인지 확인합니다.

[Advanced settings...] (고급 설정) > **'Secrets'**에, 아까와 동일한 gcp_json_base64 = "..." 문자열을 붙여넣습니다.

[Save] 및 [Deploy!] 버튼을 누릅니다.

새로운 easy-cell-counter 링크가 생성됩니다.

4단계: 완료 및 확인
**[신규 소유자]**는 새로 생성된 2개의 앱 링크에 접속하여, Google Sheets(Reagent_DB, Cell Culture Log)의 데이터가 올바르게 로드되고, '일지 저장'이 정상적으로 작동하는지 최종 테스트합니다.

테스트가 완료되면, **[현재 소유자(gashinayo)]**는 자신의 Streamlit 대시보드에서 기존 2개의 앱을 삭제할 수 있습니다.
